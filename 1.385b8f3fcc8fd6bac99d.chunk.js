webpackJsonp([1],{"./app/containers/Photo/index.js":function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{changeRoute:function(t){return e(n.i(h.push)(t))}}}Object.defineProperty(t,"__esModule",{value:!0});var a=n("./node_modules/react/react.js"),p=n.n(a),u=n("./node_modules/react-redux/lib/index.js"),h=(n.n(u),n("./node_modules/react-router-redux/lib/index.js")),c=(n.n(h),n("./node_modules/reselect/es/index.js")),f=n("./app/utils/utils.js"),l=n("./app/containers/App/selectors.js"),d=n("./app/containers/Photo/styles.js");n.d(t,"Photo",function(){return m});var y=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,i){var r=t&&t.defaultProps,s=arguments.length-3;if(n||0===s||(n={}),n&&r)for(var a in r)void 0===n[a]&&(n[a]=r[a]);else n||(n=r||{});if(1===s)n.children=i;else if(s>1){for(var p=Array(s),u=0;u<s;u++)p[u]=arguments[u+3];n.children=p}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),b=y("div",{},void 0,"Loading"),m=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),v(t,[{key:"getPreviousPhoto",value:function(e){var t=this.props.photoMap[e];if(t)return t.previous}},{key:"getNextPhoto",value:function(e){var t=this.props.photoMap[e];if(t)return t.next}},{key:"previousPhoto",value:function(){var e=this.getPreviousPhoto(this.props.params.photo);if(e){var t=this.props.params.year,n=this.props.params.name,o=this.props.params.hash;this.props.changeRoute(t+"/"+n+"/"+o+"/"+e)}}},{key:"nextPhoto",value:function(){var e=this.getNextPhoto(this.props.params.photo);if(e){var t=this.props.params.year,n=this.props.params.name,o=this.props.params.hash;this.props.changeRoute(t+"/"+n+"/"+o+"/"+e)}}},{key:"back",value:function(){var e=this.props.params.year,t=this.props.params.name,n=this.props.params.hash;this.props.changeRoute(e+"/"+t+"/"+n)}},{key:"componentDidMount",value:function(){this.boundKeyDown=this.keyDown.bind(this),window.addEventListener("keydown",this.boundKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.boundKeyDown)}},{key:"render",value:function(){if(this.props.loading||!this.props.sizes.length)return b;var e=this.props.params.year,t=this.props.params.name,o=this.props.params.hash,i=n.i(f.b)(this.props.sizes),r=this.props.params.photo,s=n.i(f.a)(e,t,o,i,r),a=this.getPreviousPhoto(this.props.params.photo),p=a&&n.i(f.a)(e,t,o,i,a),u=this.getNextPhoto(this.props.params.photo),h=u&&n.i(f.a)(e,t,o,i,u);return y(d.a,{},void 0,y(d.b,{hidden:!0,src:p}),y(d.b,{src:s}),y(d.b,{hidden:!0,src:h}))}},{key:"keyDown",value:function(e){37===e.keyCode?this.previousPhoto():39===e.keyCode?this.nextPhoto():27===e.keyCode&&this.back()}}]),t}(p.a.Component);t.default=n.i(u.connect)(n.i(c.a)(n.i(l.d)(),n.i(l.e)(),function(e,t){return{sizes:e,photoMap:t}}),s)(m)},"./app/containers/Photo/styles.js":function(e,t,n){"use strict";function o(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var i=n("./node_modules/styled-components/lib/index.js"),r=n.n(i);n.d(t,"a",function(){return p}),n.d(t,"b",function(){return u});var s=o(["\n  width 100%;\n  height: 100%;\n  padding: 10px;\n\n  & img {\n    width: 100%;\n    height: 100%;\n    object-fit: contain;\n  }\n"],["\n  width 100%;\n  height: 100%;\n  padding: 10px;\n\n  & img {\n    width: 100%;\n    height: 100%;\n    object-fit: contain;\n  }\n"]),a=o(["\n  width: 100%;\n  height: 100%;\n  object-fit: contain;\n  display: ",";\n"],["\n  width: 100%;\n  height: 100%;\n  object-fit: contain;\n  display: ",";\n"]),p=r.a.div(s),u=r.a.img(a,function(e){return e.hidden?"none":"inherit"})},"./app/utils/utils.js":function(e,t,n){"use strict";function o(){var e=window.devicePixelRatio;return e||(e=1),[window.innerWidth*e,window.innerHeight*e]}function i(e){for(var t=o(),n=e[e.length-1],i=t[0],r=t[1],s=0;s<e.length;s++){var a=e[s][0],p=e[s][1];if(1.1*a>=i&&1.1*p>=r){n=e[s];break}}return n}function r(e,t,n,o,i){return""+{publicPath:"/kijken/",s3:{baseUrl:"http://s3.bertspaan.nl.s3.amazonaws.com/photos/",filename:"photos.json"},cssVariables:{headerHeight:"30px"}}.s3.baseUrl+e+"/"+t+"/"+n+"/sizes/"+o.join("x")+"/"+i}t.b=i,t.a=r}});